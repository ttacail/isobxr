<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Run isobxr stable isotope box model — run_isobxr • isobxr</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Run isobxr stable isotope box model — run_isobxr" />
<meta property="og:description" content="A function to run the isobxr stable isotope box model,
assessing the design of the model and automatically running num_slvr
or ana_slvr depending on the conditions." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">isobxr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/isobxr_vignette.html">Using isobxr</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ttacail/isobxr/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Run isobxr stable isotope box model</h1>
    <small class="dont-index">Source: <a href='https://github.com/ttacail/isobxr/blob/master/R/run_model.R'><code>R/run_model.R</code></a></small>
    <div class="hidden name"><code>run_isobxr.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A function to run the isobxr stable isotope box model,
assessing the design of the model and automatically running <code><a href='num_slvr.html'>num_slvr</a></code>
or <code><a href='ana_slvr.html'>ana_slvr</a></code> depending on the conditions.</p>
    </div>

    <pre class="usage"><span class='fu'>run_isobxr</span><span class='op'>(</span>
  <span class='va'>workdir</span>,
  <span class='va'>SERIES_ID</span>,
  <span class='va'>flux_list_name</span>,
  <span class='va'>coeff_list_name</span>,
  <span class='va'>t_lim</span>,
  <span class='va'>nb_steps</span>,
  <span class='va'>time_units</span>,
  FORCING_RAYLEIGH <span class='op'>=</span> <span class='cn'>NULL</span>,
  FORCING_SIZE <span class='op'>=</span> <span class='cn'>NULL</span>,
  FORCING_DELTA <span class='op'>=</span> <span class='cn'>NULL</span>,
  FORCING_ALPHA <span class='op'>=</span> <span class='cn'>NULL</span>,
  COMPOSITE <span class='op'>=</span> <span class='cn'>FALSE</span>,
  COMPO_SERIES_n <span class='op'>=</span> <span class='cn'>NaN</span>,
  COMPO_SERIES_FAMILY <span class='op'>=</span> <span class='cn'>NaN</span>,
  EXPLORER <span class='op'>=</span> <span class='cn'>FALSE</span>,
  EXPLO_SERIES_n <span class='op'>=</span> <span class='cn'>NaN</span>,
  EXPLO_SERIES_FAMILY <span class='op'>=</span> <span class='cn'>NaN</span>,
  HIDE_PRINTS <span class='op'>=</span> <span class='cn'>FALSE</span>,
  PLOT_DIAGRAMS <span class='op'>=</span> <span class='cn'>TRUE</span>,
  PLOT_evD <span class='op'>=</span> <span class='cn'>FALSE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>workdir</th>
      <td><p>Working directory in which the master file (0_ISOBXR_MASTER.xlsx)
is found and where the output files will be stored.
<br /> (string of characters)</p></td>
    </tr>
    <tr>
      <th>SERIES_ID</th>
      <td><p>Name of the model series the run belongs to, that will determine
the folder in which the output files will be stored.
<br /> (string of characters)</p></td>
    </tr>
    <tr>
      <th>flux_list_name</th>
      <td><p>Name of the list of fluxes to be used for the run as
defined in a single column of the FLUXES sheet of the 0_ISOBXR_MASTER.xlsx file.
<br /> (string of characters)</p></td>
    </tr>
    <tr>
      <th>coeff_list_name</th>
      <td><p>Name of the list of fractionation coefficients to be used
for the run as defined in a single column of the COEFFS sheet of the
0_ISOBXR_MASTER.xlsx file.
<br /> (string of characters)</p></td>
    </tr>
    <tr>
      <th>t_lim</th>
      <td><p>Run duration, given in the same time units as the fluxes.
<br /> (integer)</p></td>
    </tr>
    <tr>
      <th>nb_steps</th>
      <td><p>Number of steps that will define the resolution of the run.
<br /> (integer)</p></td>
    </tr>
    <tr>
      <th>time_units</th>
      <td><p>Vector defining the initial time units (identical to time unit
used for fluxes) followed by the time unit used for the graphic output.
<br /> (vector of two strings of characters, eg. c("days", "years"))</p></td>
    </tr>
    <tr>
      <th>FORCING_RAYLEIGH</th>
      <td><p><em>OPTIONAL</em> Dataframe describing the forcing on a Rayleigh
distillation driven fractionation coefficient as a function of flux intensities
and a fundamental fractionation coefficient (Dataframe formating details in
read me).
<br /> Default is NULL.</p></td>
    </tr>
    <tr>
      <th>FORCING_SIZE</th>
      <td><p><em>OPTIONAL</em> Dataframe describing the forcing on one or several box
sizes (mass of element X). The newly defined sizes for the given set of boxes
shown in dataframe will overwrite the sizes as defined in 0_ISOBXR_MASTER.xlsx file.
<br /> Default is NULL.</p></td>
    </tr>
    <tr>
      <th>FORCING_DELTA</th>
      <td><p><em>OPTIONAL</em> Dataframe describing the forcing on one or several boxes
initial isotope composition described as delta (Dataframe formating details in read me).
The newly defined delta values for the given set of boxes shown in dataframe will
overwrite the delta values as defined in ISOBXR_MASTER file.
<br /> Default is NULL.</p></td>
    </tr>
    <tr>
      <th>FORCING_ALPHA</th>
      <td><p><em>OPTIONAL</em> Dataframe describing the forcing on one or several
fractionation coefficients linked to fluxes from one reservoir to another
(Dataframe formating details in read me). The newly defined alpha values
for the given set of boxes shown in dataframe will overwrite the alpha values
as defined in ISOBXR_MASTER file.
<br /> Default is NULL.</p></td>
    </tr>
    <tr>
      <th>COMPOSITE</th>
      <td><p><em>NOT TO BE USED IN SINGLE RUN</em> Logical value automatically defined in <code><a href='compose_isobxr.html'>compose_isobxr</a></code>.
<br /> Default is FALSE.</p></td>
    </tr>
    <tr>
      <th>COMPO_SERIES_n</th>
      <td><p><em>NOT TO BE USED IN SINGLE RUN</em> Iteration of the composite run for the given series it belongs to,
automatically defined in <code><a href='compose_isobxr.html'>compose_isobxr</a></code>.
<br /> Default is NaN.</p></td>
    </tr>
    <tr>
      <th>COMPO_SERIES_FAMILY</th>
      <td><p><em>NOT TO BE USED IN SINGLE RUN</em> Composite run series family, automatically defined in
<code><a href='compose_isobxr.html'>compose_isobxr</a></code>.
<br /> Default is NaN.</p></td>
    </tr>
    <tr>
      <th>EXPLORER</th>
      <td><p><em>NOT TO BE USED IN SINGLE RUN</em> Logical value automatically defined in <code><a href='sweep_steady.html'>sweep_steady</a></code>
or <code><a href='sweep_dyn.html'>sweep_dyn</a></code>.
<br /> Default is FALSE.</p></td>
    </tr>
    <tr>
      <th>EXPLO_SERIES_n</th>
      <td><p><em>NOT TO BE USED IN SINGLE RUN</em> Iteration of the sweep run for the given series it belongs to,
automatically defined in <code><a href='sweep_steady.html'>sweep_steady</a></code> or <code><a href='sweep_dyn.html'>sweep_dyn</a></code>.
<br /> Default is NaN.</p></td>
    </tr>
    <tr>
      <th>EXPLO_SERIES_FAMILY</th>
      <td><p><em>NOT TO BE USED IN SINGLE RUN</em> Sweep run series family, automatically defined in
<code><a href='sweep_steady.html'>sweep_steady</a></code> or <code><a href='sweep_dyn.html'>sweep_dyn</a></code>.
<br /> Default is NaN.</p></td>
    </tr>
    <tr>
      <th>HIDE_PRINTS</th>
      <td><p><em>OPTIONAL</em> Logical value determining whether to run outputs details in R console.
This parameter will not hide the warnings regarding the automatic update of
the run duration in case of the emptying of a box.
<br /> Default is FALSE.</p></td>
    </tr>
    <tr>
      <th>PLOT_DIAGRAMS</th>
      <td><p><em>OPTIONAL</em> Logical value to edit pdf of box model diagram or not.
<br /> Default is TRUE.</p></td>
    </tr>
    <tr>
      <th>PLOT_evD</th>
      <td><p><em>OPTIONAL</em> Logical value to edit pdf of delta time evolution plot or not.
<br /> Default is TRUE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>If function is run independently and if the directory is non existing,
the fonction creates and stores all outputs
in a SERIES directory located in working directory.
<br /> Directory name structure: 2_RUN + SERIES_ID</p>
<ol>
<li><p>Automatically sets a XXXX run number between 0001 and 9999. The outputs do not overwrite possible identical previously performed runs.</p></li>
<li><p>Creates an INPUT file with all run conditions, located in SERIES directory.
<br /> (file name structure: SERIES_ID + XXXX + _INPUT.xlsx)</p></li>
<li><p>Edits a Box model diagram of flux (DIAGf pdf) of element X (mass per time unit)
between all boxes. (Optional, depends on parameter PLOT_DIAGRAM), located in SERIES directory.
<br /> (file name structure: SERIES_ID + XXXX + DIAGf + _flux_list_name.pdf)</p></li>
<li><p>Edits a Box model diagram of isotope fractionation coefficients (alphas, DIAGa pdf)
between all boxes (optional, depends on parameter PLOT_DIAGRAM), located in SERIES directory.
<br /> (file name structure: SERIES_ID + XXXX + DIAGf + _flux_list_name.pdf)</p></li>
<li><p>Creates a subdirectory for numerical outputs.
<br /> (directory name structure: SERIES_ID + XXXX + _OUT)</p>
<ol>
<li><p>Stores <code><a href='num_slvr.html'>num_slvr</a></code> or <code><a href='ana_slvr.html'>ana_slvr</a></code> outputs in subdirectory.</p></li>
<li><p>Edits a pdf plot of the time dependent evolution of delta values, with a logarithmic x axis time scale (optional).
<br /> (file name structure: SERIES_ID + XXXX + _plot_evD.pdf)</p></li>
</ol></li>
<li><p>Creates or updates the general log file, located in general working directory.
<br /> (file name: 1_LOG.csv)</p></li>
</ol>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Documentation on <code><a href='num_slvr.html'>num_slvr</a></code> or <code><a href='ana_slvr.html'>ana_slvr</a></code> functions.</p></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Theo Tacail.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


